(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[869],{2705:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/iipp",function(){return t(7989)}])},4288:function(e,n,t){"use strict";var i=t(5893),r=t(1050),o=t(4087),a=t(4246);n.Z=e=>{let{children:n,icon:t,text:l}=e;return(0,i.jsx)(r.Z,{arrow:!0,title:(0,i.jsxs)(o.Z,{direction:"row",alignItems:"center",children:[t&&t,(0,i.jsx)(a.Z,{variant:"body1",component:"span",color:"white",sx:{fontSize:13},children:l})]}),children:n||(0,i.jsx)(i.Fragment,{})})}},5811:function(e,n,t){"use strict";var i=t(5893),r=t(4440),o=t(4934);n.Z=()=>(0,i.jsxs)(r.Z,{sx:{height:"calc(100vh - 144px)",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[(0,i.jsx)("img",{src:"/images/comafi/brandLogoImgVertical.png",alt:"Picture of the author",loading:"lazy",width:208,height:208}),(0,i.jsx)(o.Z,{disableShrink:!0,sx:{mt:6}})]})},7989:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return L}});var i=t(5893),r=t(1163),o=t(7294),a=t(4466),l=t(7353),s=t(9775),c=t(4202),d=t(6497),u=t(6973),x=t(8463),h=t(4623),g=t(6693),m=t(6151),f=t(4087),p=t(4246);let j={container:{mt:4,mb:10},textoPrincipal:{fontSize:22,fontWeight:400,lineHeight:"20px",letterSpacing:"0.25px",ml:1},textoSecundario:{fontSize:32,fontWeight:700,lineHeight:"20px",letterSpacing:"0.25px",mt:6}};var Z=(0,o.memo)(function(e){let{icon:n,textoPrincipal:t,textoSecundario:r,acciones:o}=e;return(0,i.jsx)("header",{children:(0,i.jsxs)(a.ZP,{container:!0,direction:"row",alignItems:"center",sx:j.container,children:[(0,i.jsx)(a.ZP,{item:!0,xs:6,children:(0,i.jsxs)(f.Z,{direction:"column",children:[(0,i.jsxs)(f.Z,{direction:"row",children:[n,(0,i.jsx)(p.Z,{sx:j.textoPrincipal,children:t})]}),r&&(0,i.jsx)(p.Z,{sx:j.textoSecundario,children:r})]})}),o&&(0,i.jsx)(a.ZP,{item:!0,xs:6,children:(0,i.jsx)(f.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",children:o})})]})})}),C=t(5811),S=t(4043),w=t(7592),P=t(3367),_=t(3256),v=t(986),E=t(4288),I=t(3821),N=t(3777),b=t(6811),y=t(1897);let R={title:"",cursor:"inherit",loading:!1,rowsPerPageOptions:[7,10,25,50],rows:[],totalRows:S.OU},A=e=>{let{title:n,cursor:t,rows:r,loading:a,columns:l,setItemSelected:s,handlePageChange:c,cardHeaderActions:d,totalRows:u,currentPage:x,paginationMode:h,rowsPerPageOptions:g,handleFilterModelChange:m,handleSortModelChange:f}=e,[p,j]=(0,o.useState)(S.OU),[Z,C]=(0,o.useState)(u);(0,o.useEffect)(()=>{C(e=>void 0!==u?u:e)},[u,C]);let w=(e,n)=>{j(e),c&&n&&c(n,e)};return(0,i.jsxs)(I.Z,{children:[n&&(0,i.jsx)(N.Z,{title:n,action:d||(0,i.jsx)(i.Fragment,{})}),(0,i.jsx)(b._,{autoHeight:!0,rowCount:Z,hideFooterSelectedRowCount:!0,localeText:y._.components.MuiDataGrid.defaultProps.localeText,sx:{cursor:t||(s?"pointer":"inherit")},rows:r,loading:a,onCellClick:e=>{s&&s(e)},columns:l,pageSize:p,paginationMode:h||_.p.client,rowsPerPageOptions:g,onPageSizeChange:e=>w(e,x),onPageChange:e=>c?c(e+1,p):null,onSortModelChange:f,onFilterModelChange:m})]})};A.defaultProps=R;var O=(0,o.memo)(A),z=t(5898),T=t(3062),k=function(){return(0,i.jsx)(E.Z,{text:"Ver detalle",icon:(0,i.jsx)(z.Z,{fontSize:"small",color:"success",sx:{mr:1}}),children:(0,i.jsx)(T.Z,{sx:{width:"20px",cursor:"pointer"}})})};let D=[{flex:.4,headerName:"NOMBRE CLIENTE",field:"nombre_cliente",headerAlign:"left",align:"left",renderCell:e=>(0,i.jsx)(p.Z,{variant:"body2",sx:{color:"text.primary"},children:e.row.nombre_cliente?e.row.nombre_cliente:"Sin datos"})},{flex:.3,headerName:"DOCUMENTOS",field:"numero_documento",headerAlign:"right",align:"right",renderCell:e=>{let n=e.row.documentos,t=Array.isArray(n)&&n.length>0?n.map((e,t)=>e.numero+(0,x.W4)(n,t)):"Sin Datos";return(0,i.jsx)(p.Z,{variant:"body2",sx:{color:"text.primary"},children:t})}},{flex:.2,minWidth:100,headerName:"FECHA ALTA",field:"fecha_alta",headerAlign:"center",align:"center",renderCell:e=>(0,i.jsx)(p.Z,{variant:"body2",sx:{color:"text.primary"},children:e.row.fecha_alta?(0,x.p6)(e.row.fecha_alta):"Sin datos"})},{flex:.1,maxWidth:80,headerName:"",field:"accion",headerAlign:"center",align:"center",renderCell:()=>(0,i.jsx)(k,{})}];var H=(0,o.memo)(function(e){let{data:n,isLoading:t,onHandleRefresh:a,isLoadingRefresh:l,paginationData:s,setPaginationData:c}=e,[d,u]=(0,o.useState)(),x=(0,r.useRouter)();return(0,o.useEffect)(()=>{void 0!=d&&"accion"===d.field&&x.push("".concat(S.RE,"/").concat(null==d?void 0:d.id))},[d]),(0,i.jsx)(O,{setItemSelected:u,handlePageChange:(e,n)=>{c&&c({pagina:e,cantidad:n}),a&&a()},columns:D,loading:t,rows:null==n?void 0:n.registros,totalRows:null==n?void 0:n.total,title:"Clientes",currentPage:null==s?void 0:s.pagina,paginationMode:_.p.server,cardHeaderActions:(0,i.jsx)(f.Z,{direction:"row",alignItems:"center",children:(0,i.jsx)(E.Z,{text:"Actualizar",icon:(0,i.jsx)(v.Z,{fontSize:"small",color:"success",sx:{mr:1}}),children:(0,i.jsx)(P.Z,{onClick:a,color:"primary","aria-label":"upload picture",component:"label",sx:{animation:"".concat(l&&"spin 1s linear infinite")},children:(0,i.jsx)(v.Z,{fontSize:"small"})})})})})}),L=(0,o.memo)(function(){let[e,n]=(0,o.useState)(u.S3),t=(0,r.useRouter)(),f=(0,c.I0)(),{loading:p,setLoading:j,setState:P,state:_}=(0,d.bp)(),[v]=(0,o.useState)(m.OJ),{isLoading:E,isFetching:I,refetch:N}=(0,h.lu)({queryParams:v,paginationData:e}),{CLIENTES:{clientesElasticSearch:b}}=(0,c.v9)(e=>e);return(0,o.useEffect)(()=>{0===b.registros.length&&(j(!0),fetch("/iipp/iipp.json").then(e=>e.json()).then(e=>{f((0,g.dp)(e))}).catch(e=>{(0,x.D$)("Ha ocurrido un error"),console.log(e)}).finally(()=>j(!1)))},[]),(0,o.useEffect)(()=>{j(E||I||!1)},[j,E,I]),(0,i.jsx)(o.Suspense,{fallback:(0,i.jsx)(C.Z,{}),children:(0,i.jsx)(a.ZP,{container:!0,spacing:6,children:(0,i.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,i.jsx)(Z,{icon:(0,i.jsx)(s.Z,{}),textoPrincipal:"Instrucciones permanentes",textoSecundario:"",acciones:(0,i.jsx)(l.Z,{variant:"contained",onClick:()=>{P({..._,accion:w.B7.CREAR_INSTRUCCION}),t.push("".concat(S.RE,"/form/").concat(w.B7.CREAR_INSTRUCCION))},children:"Crear IIPP"})}),(0,i.jsx)(H,{data:b||u.L9,isLoading:p,isFetching:p,isLoadingRefresh:p,onHandleRefresh:N,paginationData:e,setPaginationData:n})]})})})})}},function(e){e.O(0,[46,944,245,888,774,179],function(){return e(e.s=2705)}),_N_E=e.O()}]);